<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/dev/style.css" />
  <link href="/assets/bootstrap-icons.css" rel="stylesheet" type="text/css" />
  <style>html,body{background:transparent}body{padding:0 12px 12px}.pageTitle{margin-left:0;margin-right:0;width:100%}</style>
  <script type="module">
    import {allComponents, provideFluentDesignSystem, baseLayerLuminance, StandardLuminance} from 'https://npm.elemecdn.com/@fluentui/web-components';
    provideFluentDesignSystem().register(allComponents);
    try {
      const layer = document.body;
      const isDark = (()=>{ try { return !!(parent && parent.document && parent.document.body && parent.document.body.classList && parent.document.body.classList.contains('darkmode--activated')); } catch { return false } })();
      baseLayerLuminance.setValueFor(layer, isDark ? StandardLuminance.DarkMode : StandardLuminance.LightMode);
    } catch {}
  </script>
  <script>
    try { if (parent) parent.postMessage({ type: 'iframe-start' }, '*'); } catch {}
    (function(){
      try {
        var _ol = console.log; var _oe = console.error;
        console.log = function(){ try { var msg = Array.prototype.slice.call(arguments).join(' '); if (parent) parent.postMessage({ type: 'iframe-log', text: msg }, '*'); } catch {} try { _ol.apply(console, arguments); } catch {} };
        console.error = function(){ try { var msg = Array.prototype.slice.call(arguments).join(' '); if (parent) parent.postMessage({ type: 'iframe-log', text: msg }, '*'); } catch {} try { _oe.apply(console, arguments); } catch {} };
      } catch {}
    })();
  </script>
  <script src="/assets/js-yaml.min.js"></script>
  <script src="/dev/scripts/storage.js" defer></script>
  
</head>
<body>
  <p class="pageTitle pageTitle_main2">导出设定</p>
  <h3 class="offline">本地导出</h3>
  <span class="offline">导出格式:</span><br class="offline" />
  <fluent-select class="offline" id="output-mode2" onchange="storage.outputSet()" title="选择导出格式">
    <fluent-option value="cy" selected>标准YAML</fluent-option>
    <fluent-option value="ci">ClassIsland课表档案</fluent-option>
    <fluent-option value="es">ExamSchedule</fluent-option>
  </fluent-select>
  <br class="offline" />
  <h3>导出预览</h3>
  <br />
  <fluent-text-area readonly="true" aria-placeholder="生产文件的内容将在这里显示" id="yaml-editor"></fluent-text-area>
  <script>
    try { storage.init(); storage.initEnv(); } catch {}
    try { if (parent) parent.postMessage({ type: 'iframe-ready' }, '*'); } catch {}
  </script>
</body>
</html>
