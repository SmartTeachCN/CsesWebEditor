try{parent&&parent.postMessage({type:"iframe-start"},"*")}catch{}!function(){try{var e=console.log,t=console.error;console.log=function(){try{var t=Array.prototype.slice.call(arguments).join(" ");parent&&parent.postMessage({type:"iframe-log",text:t},"*")}catch{}try{e.apply(console,arguments)}catch{}},console.error=function(){try{var e=Array.prototype.slice.call(arguments).join(" ");parent&&parent.postMessage({type:"iframe-log",text:e},"*")}catch{}try{t.apply(console,arguments)}catch{}}}catch{}}(),function(){console.log("editor:time start");const e=()=>{try{if(!window.storage||!window.schedule)return console.log("editor:time waiting libs"),void setTimeout(e,50);storage.init(),storage.initEnv(),console.log("editor:time after storage.init");const t=new URLSearchParams(location.search).get("timetable");t?(schedule.showTimeEditor(t,!1),console.log("editor:time showTimeEditor by params",t)):console.log("editor:time no timetable param")}catch(e){console.error("editor:time init error",e)}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e();try{parent&&parent.postMessage({type:"iframe-ready"},"*")}catch{}}(),function(){try{const e=localStorage.getItem("quick-course-min"),t=localStorage.getItem("quick-break-min");e&&(document.getElementById("quick-course-min").value=e),t&&(document.getElementById("quick-break-min").value=t)}catch(e){console.warn("恢复快速时长失败",e)}}(),document.getElementById("quick-course-min")?.addEventListener("change",e=>{localStorage.setItem("quick-course-min",(e.target.value||"").trim())}),document.getElementById("quick-break-min")?.addEventListener("change",e=>{localStorage.setItem("quick-break-min",(e.target.value||"").trim())}),document.getElementById("add-time-row-btn")?.addEventListener("click",()=>{window.schedule&&"function"==typeof schedule.addTimeRow&&schedule.addTimeRow()}),document.getElementById("save-time-template-btn")?.addEventListener("click",()=>{window.schedule&&"function"==typeof schedule.saveTimeTemplate&&schedule.saveTimeTemplate()}),document.getElementById("delete-time-template-btn")?.addEventListener("click",()=>{window.schedule&&"function"==typeof schedule.deleteTimeTemplateInEditor&&schedule.deleteTimeTemplateInEditor()}),document.getElementById("export-time-template-btn")?.addEventListener("click",()=>{window.schedule&&"function"==typeof schedule.exportTimeTemplateJSON&&schedule.exportTimeTemplateJSON()}),document.getElementById("import-time-template-btn")?.addEventListener("click",()=>{window.schedule&&"function"==typeof schedule.importTimeTemplateJSONUI&&schedule.importTimeTemplateJSONUI()});
//# sourceMappingURL=bundle-83ac26f5ec09.min.js.map